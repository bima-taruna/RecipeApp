"use strict";(self.webpackChunkrecipe_app=self.webpackChunkrecipe_app||[]).push([[351],{6351:function(e,n,t){t.r(n),t.d(n,{default:function(){return x}});var a=t(4165),s=t(5861),c=t(885),l=t(2791),r=t(763),i=t(3440),o=t(8382),u=t(9126),d=t(9036),p=t(1044),f=t(184),v=(0,l.lazy)((function(){return t.e(853).then(t.bind(t,7853))})),x=function(){var e,n=(0,l.useState)(null),t=(0,c.Z)(n,2),x=t[0],m=t[1],h=(0,l.useState)(!1),j=(0,c.Z)(h,2),g=j[0],b=j[1],Z=(0,l.useState)(null),y=(0,c.Z)(Z,2),k=y[0],S=y[1],N=(0,l.useState)(null),w=(0,c.Z)(N,2),q=w[0],E=w[1],C=(0,l.useState)(!0),R=(0,c.Z)(C,2),F=R[0],L=R[1],T=(0,l.useState)(0),_=(0,c.Z)(T,2),z=_[0],I=_[1],K=(0,l.useState)(!1),M=(0,c.Z)(K,2),P=M[0],V=M[1],A=(0,l.useRef)(null),B=(0,l.useRef)(null),D=(0,l.useRef)(null),G="https://api.spoonacular.com/",H="268749d3f4884f8da0eb0e8bc0a31971",J=(0,r.slice)(x,0,z),O=(0,l.useState)(null===(e=A.current)||void 0===e?void 0:e.value),Q=(0,c.Z)(O,2),U=Q[0],W=Q[1];(0,l.useEffect)((function(){var e=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var n,t,s,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,0===(null===(n=A.current)||void 0===n?void 0:n.value.trim().length)){e.next=12;break}return console.log(null===(t=A.current)||void 0===t?void 0:t.value),L(!1),e.next=6,p.ZP.get("".concat(G,"recipes/complexSearch?query=").concat(U,"&number=").concat(z,"&apiKey=").concat(H));case 6:c=e.sent,m(c.data.results),S(c.data.totalResults),null!==(s=B.current)&&void 0!==s&&s.style&&(B.current.style.overflow="scroll"),e.next=13;break;case 12:L(!0);case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0),E(!0);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();e()}),[z,U,G,H]);return console.log(z),(0,f.jsxs)(o.E.section,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"latest",ref:B,children:[(0,f.jsxs)("section",{className:"search-bar",children:[(0,f.jsx)("img",{src:i,alt:"logo"}),(0,f.jsxs)("div",{className:"input-container",children:[(0,f.jsx)("input",{id:"input-form",ref:A,type:"text"}),(0,f.jsx)("div",{className:"search-icon",onClick:function(){var e;b(!0),I(10),W(null===(e=A.current)||void 0===e?void 0:e.value)},children:(0,f.jsx)(o.E.div,{whileTap:{scale:.2},className:"icon",children:(0,f.jsx)(u.dVI,{})})})]})]}),q?(0,f.jsx)(d.Z,{message:d.q.quotaExceeded}):g&&F?(0,f.jsx)(d.Z,{message:d.q.empty}):x&&0===k&&g?(0,f.jsx)(d.Z,{message:d.q.notFound}):x?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"card-body-container",children:(0,f.jsx)("section",{className:"card-container",ref:D,children:J.length>0?J.map((function(e){return(0,f.jsx)(l.Suspense,{fallback:(0,f.jsx)(d.Z,{message:d.q.isLoading}),children:(0,f.jsx)(v,{id:e.id,title:e.title,image:e.image},e.id)})})):null})}),P?null:(0,f.jsx)("div",{className:"button-container",children:(0,f.jsx)(o.E.button,{whileTap:{scale:1.1},type:"button",className:"btn-loadmore",onClick:function(){return I(z+10),console.log(z),void(k&&V(z>=k))},children:"Load More"})})]}):null]})}}}]);
//# sourceMappingURL=351.539c01b5.chunk.js.map